---
title: "An치lisis de churn e ingresos por tipo de plan"
author: "Brian Murillo"
date: "2026-02-03"
output: html_document
---

```{r setup}
knitr::opts_chunk$set(echo = TRUE, warning = FALSE, message = FALSE)

library(dplyr)
library(ggplot2)
library(lubridate)
library(readr)
library(stringr)

```

## Introducci칩n

Este informe se realizo con el objetivo de identificar y analizar los datos correspondientes al tipo de plan que usan los usuarios de la empresa y ver el comportamiento de los ingresos de la empresa por mes y por cada una de las ciudades.


### Preguntas Orientadoras

쮺u치l es la tasa de cancelaci칩n (churn)?

쯈u칠 plan tiene mayor ingreso promedio?

쯈u칠 ciudades concentran m치s clientes activos?

쮺칩mo evolucionan los ingresos mes a mes?


## Fuente y preparaci칩n de los datos

Se utilizo 1 archivo con 200 registros de clientes de la empresa, donde estos datos fueron consolidados, para posteriormente hacer su respectiva limpieza y manipulacion, para su analisis final.

### 游댳 Creaci칩n de los datos (NO read_csv)
```{r carga_datos}
subscriptions <- tibble(
  user_id = paste0("U", sprintf("%03d", 1:200)),
  city = sample(c("Bogot치", "Medell칤n", "Cali", "Barranquilla"),
                200, replace = TRUE,
                prob = c(0.40, 0.25, 0.20, 0.15)),
  plan = sample(c("B치sico", "Est치ndar", "Premium"),
                200, replace = TRUE,
                prob = c(0.45, 0.35, 0.20)),
  signup_date = sample(seq(as.Date("2025-01-01"),
                           as.Date("2025-06-30"), by = "day"),
                       200, replace = TRUE),
  monthly_fee = case_when(
    plan == "B치sico" ~ 25000,
    plan == "Est치ndar" ~ 45000,
    plan == "Premium" ~ 75000
  ),
  is_active = sample(c("S칤", "No"),
                     200, replace = TRUE,
                     prob = c(0.72, 0.28))
)

```
```{r preparar_datos}
subscriptions<- subscriptions%>%
  mutate(
    Mes=month(signup_date, label = TRUE),
    Tipo_cliente= ifelse(is_active == "S칤", "Activado", "Cancelado")
    )
```
##Analisis

```{r clientes}
subscriptions%>%
  summarise(
    ingresos_totales = sum(monthly_fee),
    usuarios_Activos = sum(Tipo_cliente == "Activado"),
    usuarios_totales= n(),
    porcentaje_cancelacion = round(sum(Tipo_cliente == "Cancelado")/n()*100,2)
  )
```

Con base a los datos, se logro evidenciar que el porcentaje de cancelaci칩n de los usuarios de la empresa es de aproximadamente el 30%.

```{r cancelados}
subscriptions%>%
  group_by(city)%>%
  summarise(
    Usuarios_cancelados = sum(Tipo_cliente=="Cancelado")
  )
```
Donde se evidencia que en la ciudad de Bogota es donde mayor numero de usuarios cancelan su plan con la empresa, ya sea por su alto costo en sus planes etc.

### Grafico Ingresos por mes

```{r ingresos_mes}
subscriptions%>%
  group_by(Mes)%>%
  summarise(
    Ingresos_mes = sum(monthly_fee))%>%
  ggplot(aes(Mes,Ingresos_mes, group = 1))+geom_col()+labs(
    title = "Ingresos por mes",
    x= "Mes",
    y= "Ingresos"
  )

```  


### Interpretaci칩n

En este grafico se puede visuaizar el comportamiento de los ingresos de la empresa por mes, en donde se evidnecia que en el mes de abril se nota una mayor rentabilidad a diferencia de los otros meses.

---

## Grafico Usuarios activos vs usuarios cancelados


```{r tipo_usuarios}
subscriptions%>%
  count(Tipo_cliente)%>%
  ggplot(aes(Tipo_cliente, n, fill = Tipo_cliente))+ geom_col()+ labs(
    title= "Usuarios Activos vs Cancelados",
    x= "Estad0",
    y= "Cantidad"
  )
```  


### Interpretaci칩n
En este grafico se puede visuaizar la comparativa entre los usuarios activos contra los usuarios cancelados, donde se evidencia una mayor cantidad de usuarios activos que de cancelados en la empresa. COn base a eso, una de las propuestas para la empresa para retener a los usuarios activos, serian de planes de fidelizaci칩n o promos que ayuden a que el cliente se interese en mantenerse con la empresa.


## Grafico ingresos por plan

```{r ingresos_plan}
subscriptions%>%
  group_by(plan)%>%
  summarise(
    Ingresos= sum(monthly_fee))%>%
  ggplot(aes(plan, Ingresos, fill = plan)) + geom_col() + labs(
    title = "Ingresos por plan",
    x= "Tipo de plan",
    y= "Ingresos"
  )

```


### Interpretaci칩n
Lo que se puede evidenciar es que el plan m치s rentable de la empresa es el plan estandar, ya que es el plan que mayores ingresos le brindan a la empresa a diferencia de los otros planes. Con base a eso la empresa puede oprtar por generar publicidad a sus planes, con la finalidad de lograr captar la atenci칩n de susu usuarios activos para la compra de los planes que ofrece la empresa


## Grafico Usuarios por ciudad

```{r usuarios_ciudad}
subscriptions%>%
  count(city)%>%
  ggplot(aes(city, n, fill=city))+geom_col()+labs(
    title= "Usuarios por ciudad",
    x= "Ciudad",
    y= "Total de usuarios"
  )

```


### Interpretaci칩n
Lo que se puede interpretar con este grafico, es que la ciudad de Bogota es la ciudad donde mayor cantidad de usuarios hay de la empresa, es decir que Bogota es la ciudad que mayor impacto produce la empresa, seguidad de la ciudad de Medellin y Cali. Una de las propuestas que puede hacer la empresa, es hacer una reuni칩n con los usuarios en esas ciudades para llamar m치s la atenci칩n o con el uso de publicidad.
